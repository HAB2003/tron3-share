testbench_name="navigation_fsm_tb"; # The testbench used for the simulation ### Run this to use Verilator and g++ to build and simulate your Verilog code. # Output: A waveform .png for a quick reference, and a .vcd that you can download and view in GTKWave, etc, for more detailed analysis. set -o errexit; # Exit on errorr. verilator -Wall --Wno-fatal --trace-fst --timing --assert --top $testbench_name --cc $testbench_name.sv --main --exe; # 'Verilate' your verilog source into C++ code. make -C obj_dir -f V$testbench_name.mk V$testbench_name; # Compile your C++ into a simulation executable. echo "Running simulation:"; ./obj_dir/V$testbench_name; # Run simulation. echo -e "\n *** Note: Use ./simulate.sh in a terminal to run GTKWave with more walltime. ***" echo -e " Then, to open the display, click the display icon next to the terminal button to the top-right of the workspace." gtkwave waveform.fst # Open resulting waveform in GTKWave (hidden save file).